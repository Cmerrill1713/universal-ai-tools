# Dockerfile using pre-built binary
FROM alpine:latest

RUN apk --no-cache add ca-certificates curl

WORKDIR /app

# Copy the pre-built binary
COPY websocket-server /app/websocket-server

# Make it executable
RUN chmod +x /app/websocket-server

# Set environment variables
ENV PORT=8002
ENV REDIS_URL=redis://redis:6379

EXPOSE 8002

CMD ["./websocket-server"]